language: python
os:
- linux
python:
- '3.7'
before_install:
- wget http://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
- bash ./miniconda.sh -b
- export PATH=~/miniconda3/bin:$PATH
- conda update --yes conda
install:
- conda env create -f environment.yml
- source activate suite2p
- pip install .[data]
- dvc pull
- pip install coveralls
script:
- coverage run --source=suite2p setup.py test
after_success: coveralls
